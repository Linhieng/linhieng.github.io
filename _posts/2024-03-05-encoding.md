---
# layout has been set to post by default
title: JS ä¸­ç¼–ç ç›¸å…³çš„æ‰€æœ‰å‡½æ•°
category: js
tags: [js, basic, encoding]
---

## å…¨å±€å‡½æ•°

- [btoa(stringToEncode)][btoa]
    - å°†å­—ç¬¦ä¸²ä¸­çš„äºŒè¿›åˆ¶æ•°æ®ç¼–ç ä¸º Base64 ç¼–ç çš„ ASCII å­—ç¬¦ä¸²
- [atob(encodedData)][atob]
    - å¯¹ Base64 æ ¼å¼æ•°æ®è¿›è¡Œè§£ç 
- [encodeURI(uri)][encodeURI]
    - å¯¹**æ•´ä¸ªé“¾æ¥**è¿›è¡Œè½¬ä¹‰ï¼Œé™¤äº†ä»¥ä¸‹å­—ç¬¦ï¼š

        ```
        -  _  .  !  ~  *  '  (  )
        ;  /  ?  :  @  &  =  +  $  ,  #
        0 1 2 3 4 5 6 7 8 9
        a b c d e f g h i j k l m n o p q r s t u v w x y z
        A B C D E F G H I J K L M N O P Q R S T U V W X Y Z
        ```

- [decodeURI(encodedURI)][decodeURI]
    - è§£ç  [encodeURI]

- [encodeURIComponent(uriComponent)][encodeURIComponent]
    - å¯¹é“¾æ¥ä¸­çš„å‚æ•°è¿›è¡Œè½¬ä¹‰ï¼ˆæ¯”å¦‚å°†å‚æ•°ä¸­çš„ `&` ç­‰å­—ç¬¦è¿›è¡Œè½¬ä¹‰ï¼‰ï¼Œé™¤äº†ä»¥ä¸‹å­—ç¬¦ï¼ˆå¯è§è¯¥æ–¹æ³•æ¯” [encodeURI] è½¬ä¹‰æ›´å¤šå­—ç¬¦ï¼ï¼‰

        ```
        -  _  .  !  ~  *  '  (  )
        a b c d e f g h i j k l m n o p q r s t u v w x y z
        A B C D E F G H I J K L M N O P Q R S T U V W X Y Z
        ```

- [decodeURIComponent(encodedURI)][decodeURIComponent]
    - è§£ç  [encodeURIComponent]

## String å‡½æ•°

- [at(index)][at]
    - æ”¯æŒè´Ÿæ•°ç´¢å¼•ï¼Œè€Œ [charAt(index)][charAt] ä¸æ”¯æŒè´Ÿæ•°ã€‚
- [charCodeAt(index)][String.prototype.charCodeAt]
    - æŸ¥çœ‹æŒ‡å®šç å…ƒå­—ç¬¦å¯¹åº”çš„ç¼–ç å€¼ï¼Œä»…é™ BMPã€‚
- [String.fromCharCode(numN...)][String.fromCharCode]
    - æ ¹æ®å­—ç¬¦ç¼–ç åˆ›å»ºå­—ç¬¦ï¼Œä»…é™ BMPã€‚
- [codePointAt(index)][String.prototype.codePointAt]
    - æŸ¥çœ‹æŒ‡å®šå­—ç¬¦å¯¹åº”çš„ç¼–ç å€¼ï¼Œæ”¯æŒä»£ç†å¯¹ï¼ˆå³å¤§äº FFFFï¼‰ã€‚æ³¨æ„ï¼Œè¿™é‡Œçš„å‚æ•°ç´¢å¼•ä¾æ—§æ˜¯åŸºäº UTF-16 çš„ã€‚æ‰€ä»¥ `'ğŸ˜€'.codePointAt(1)` æ˜¯åˆæ³•çš„ï¼Œä½†è·å–çš„æ˜¯ä½ä½ä»£ç†ã€‚
- [String.fromCodePoint(numN...)][String.fromCodePoint]
    - æ ¹æ®å­—ç¬¦ç¼–ç åˆ›å»ºå­—ç¬¦ï¼Œæ”¯æŒä»£ç†å¯¹ã€‚
- [normalize()][String.prototype.normalize]
    - è¿”å›è¯¥å­—ç¬¦ä¸²çš„ Unicode æ ‡å‡†åŒ–å½¢å¼

> è¯´æ˜
> - BMPï¼ˆBasic Multilingual Planeï¼‰æŒ‡çš„æ˜¯ Unicode ç¼–ç ä¸­çš„åŸºæœ¬å¤šè¯­è¨€å¹³é¢ï¼ŒåŒ…æ‹¬ U+0000 åˆ° U+FFFF èŒƒå›´å†…çš„å­—ç¬¦ã€‚**æ³¨æ„**ï¼š[length][String.prototype.length] å±æ€§å§‹ç»ˆæ˜¯æ ¹æ® BMP è¿›è¡Œè®¡ç®—ï¼Œæ‰€ä»¥ `'ğŸ˜€'.length` çš„å€¼æ˜¯ 2ï¼Œè€Œä¸æ˜¯ 1
> - ä»£ç†å¯¹ï¼ˆSurrogate Pairï¼‰ç”¨äºè¡¨ç¤ºè¶…å‡º BMP èŒƒå›´çš„å­—ç¬¦ã€‚ä»£ç†å¯¹ç¼–ç æ˜¯é€šè¿‡ä¸¤ä¸ª 16 ä½çš„ç å…ƒç»„åˆæ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œè¿™ä¸¤ä¸ªç å…ƒè¢«ç§°ä¸ºé«˜ä½ä»£ç†ï¼ˆhigh surrogateï¼‰å’Œä½ä½ä»£ç†ï¼ˆlow surrogateï¼‰ã€‚é«˜ä½ä»£ç†çš„èŒƒå›´æ˜¯ä» U+D800 åˆ° U+DBFFï¼Œè€Œä½ä½ä»£ç†çš„èŒƒå›´æ˜¯ä» U+DC00 åˆ° U+DFFFã€‚
> - ä»£ç ç‚¹ï¼ˆCode Pointï¼‰ï¼šæŒ‡ Unicode ä¸­çš„æ¯ä¸ªå­—ç¬¦æ‰€å¯¹åº”çš„å”¯ä¸€æ•°å­—æ ‡è¯†ã€‚æ¢å¥è¯è¯´ï¼Œä»£ç ç‚¹æ˜¯å­—ç¬¦åœ¨ Unicode æ ‡å‡†ä¸­çš„ä½ç½®ã€‚
> - Unicode æ˜¯ä¸€ç§å­—ç¬¦ç¼–ç æ ‡å‡†ï¼Œæ—¨åœ¨ä¸ºä¸–ç•Œä¸Šæ‰€æœ‰çš„å­—ç¬¦æä¾›ä¸€ä¸ªå”¯ä¸€çš„ç¼–å·ï¼Œä»¥ä¾¿è®¡ç®—æœºèƒ½å¤Ÿæ­£ç¡®åœ°å¤„ç†å’Œæ˜¾ç¤ºå„ç§è¯­è¨€å’Œç¬¦å·ã€‚
{: .prompt-tip }


å¯¹å­—ç¬¦è¿›è¡Œè§„èŒƒ normalizeã€‚è§£å†³çš„æ˜¯è¿™ä¹ˆä¸€ç§æƒ…å†µï¼šæŸäº› Unicode å­—ç¬¦å¯ä»¥æœ‰å¤šç§ç¼–ç æ–¹å¼ã€‚æœ‰çš„å­—ç¬¦å¯ä»¥ä½¿ç”¨ BMP å­—ç¬¦è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸€ä¸ªä»£ç†å¯¹è¡¨ç¤ºã€‚ä¹Ÿå°±æ˜¯è¯´è¿™äº›å­—ç¬¦çš„å½¢çŠ¶æ˜¯ä¸€æ ·çš„ï¼Œä½†ä»–çš„å®é™…ç¼–ç å´ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬ä½¿ç”¨ç­‰å·æ¥çº³æ¯”å¯¹æ—¶ï¼Œç¨‹åºåªä¼šæ ¹æ®ç¼–ç åˆ¤æ–­æ˜¯å¦ç›¸ç­‰ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ¡ˆä¾‹ï¼š

```js
// ä¸Šé¢å¸¦åœ†åœˆçš„å¤§å†™æ‹‰ä¸å­—æ¯ Ã…
const a1 = String.fromCharCode(0x00C5)
// é•¿åº¦å•ä½ â€œåŸƒâ€
const a2 = String.fromCharCode(0x212B)
// U+0041 æ˜¯å¤§å†™å¤§å†™æ‹‰ä¸å­—æ¯ A
// U+030A æ˜¯ä¸Šé¢åŠ ä¸ªåœ†åœˆ
// æŒ‰ç…§è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥è‡ªå·±æ›¿æ¢ 0x0041 ä¸ºå…¶ä»–ï¼Œæ¯”å¦‚ 0x0042 ... 0x007A ç­‰ç­‰
const a3 = String.fromCharCode(0x0041, 0x030A)
console.log(String.fromCharCode(0x0042, 0x030A)) // BÌŠ
console.log(String.fromCharCode(0x007A, 0x030A)) // zÌŠ

console.log(a1) // Ã…
console.log(a2) // â„«
console.log(a3) // AÌŠ
console.log(a1 === a2) // false
console.log(a2 === a3) // false

const a1Normalize = a1.normalize()
const a2Normalize = a2.normalize()
const a3Normalize = a3.normalize()
console.log(a1Normalize) // Ã…
console.log(a2Normalize) // Ã…
console.log(a3Normalize) // Ã…
console.log(a1Normalize === a2Normalize)
console.log(a2Normalize === a3Normalize)
```

## Number å‡½æ•°

- [toString(radix)][Number.prototype.toString]
    - è·å–æ•°å­—çš„æŒ‡å®šè¿›åˆ¶ã€‚
- [Number.parseInt(string, radix)][Number.prototype.parseInt]
    - è·å–æŒ‡å®šè¿›åˆ¶å­—ç¬¦ä¸²çš„æ•°å­—å€¼ã€‚è¯¥å‡½æ•°ç­‰åŒå…¨å±€å‡½æ•° [parseInt]

<!-- TODO: é˜¿é‡Œäº‘ä¸Šä¼ å›¾ç‰‡ä¸­åŠ è§£å¯†ä¸­çš„ Base64 é—®é¢˜ã€‚ -->

---

[btoa]: https://developer.mozilla.org/en-US/docs/Web/API/btoa
[atob]: https://developer.mozilla.org/en-US/docs/Web/API/atob
[encodeURI]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURI
[decodeURI]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURI
[encodeURIComponent]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent
[decodeURIComponent]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent
[at]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/at
[charAt]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charAt

[String.prototype.charCodeAt]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt
[String.fromCharCode]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCharCode
[String.prototype.codePointAt]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/codePointAt
[String.fromCodePoint]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint
[String.prototype.normalize]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize

[String.prototype.length]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/length

[Number.prototype.toString]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toString
[Number.prototype.parseInt]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/parseInt
[parseInt]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt
